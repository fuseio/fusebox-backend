<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>fusebox-backend documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">fusebox-backend documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">







<ol class="breadcrumb">
  <li>Injectables</li>
  <li >OperatorsService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>apps/charge-accounts-service/src/operators/operators.service.ts</code>
        </p>





            <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Readonly</span>
                                <a href="#logger" >logger</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addAddressToOperatorsWebhook" >addAddressToOperatorsWebhook</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addAddressToTokenReceiveWebhook" >addAddressToTokenReceiveWebhook</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#checkOperatorExistenceByEoaAddress" >checkOperatorExistenceByEoaAddress</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#checkout" >checkout</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#checkWalletActivationStatus" >checkWalletActivationStatus</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#compareRefreshToken" >compareRefreshToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#constructUserProjectResponse" >constructUserProjectResponse</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createChargeBridge" >createChargeBridge</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createInvoice" >createInvoice</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createOperatorJwtTokens" >createOperatorJwtTokens</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createOperatorUserAndProjectAndWallet" >createOperatorUserAndProjectAndWallet</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createOperatorWallet" >createOperatorWallet</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#createPaymasters" >createPaymasters</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#createProject" >createProject</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#createProjectSecret" >createProjectSecret</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createRefreshToken" >createRefreshToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createSubscription" >createSubscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#createUser" >createUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#deleteAddressFromOperatorsWebhook" >deleteAddressFromOperatorsWebhook</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#errorHandler" >errorHandler</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findAllOperatorWallets" >findAllOperatorWallets</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findCheckout" >findCheckout</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findFirstDayOfMonthInvoice" >findFirstDayOfMonthInvoice</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findInvoices" >findInvoices</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findLastPaidCheckout" >findLastPaidCheckout</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findOperatorBySmartWallet" >findOperatorBySmartWallet</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findRefreshToken" >findRefreshToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#findWalletOwner" >findWalletOwner</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#fundPaymaster" >fundPaymaster</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getBalance" >getBalance</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getCheckoutSessions" >getCheckoutSessions</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getOperatorUserAndProject" >getOperatorUserAndProject</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getSponsoredTransactionsCount" >getSponsoredTransactionsCount</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getSubscriptions" >getSubscriptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#googleFormSubmit" >googleFormSubmit</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#handleCheckoutWebhook" >handleCheckoutWebhook</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#handleWebhookReceiveAndFundPaymasterAndDeleteWalletAddressFromOperatorsWebhook" >handleWebhookReceiveAndFundPaymasterAndDeleteWalletAddressFromOperatorsWebhook</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#hashRefreshToken" >hashRefreshToken</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#invalidateRefreshTokens" >invalidateRefreshTokens</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#isOperatorSponsoredQuotaExceeded" >isOperatorSponsoredQuotaExceeded</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#markRefreshTokenAsUsed" >markRefreshTokenAsUsed</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#migrateOperatorWallet" >migrateOperatorWallet</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#operatorAccountActivationEvent" >operatorAccountActivationEvent</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#operatorSubscriptionPaidEvent" >operatorSubscriptionPaidEvent</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#predictWallet" >predictWallet</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#processMonthlyBilling" >processMonthlyBilling</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#processMonthlySubscriptions" >processMonthlySubscriptions</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                    <span class="modifier">Async</span>
                                <a href="#retryGetTokenPrice" >retryGetTokenPrice</a>
                            </li>
                            <li>
                                <a href="#subscriptionInfo" >subscriptionInfo</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#subscriptionWeb3" >subscriptionWeb3</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateCheckout" >updateCheckout</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateIsActivated" >updateIsActivated</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updateIsActivatedByOwnerId" >updateIsActivatedByOwnerId</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#validate" >validate</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#validateInput" >validateInput</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#validateRefreshToken" >validateRefreshToken</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(jwtService: JwtService, usersService: <a href="../injectables/UsersService.html" target="_self">UsersService</a>, configService: ConfigService, operatorWalletModel: <a href="../interfaces/OperatorWallet.html" target="_self">Model&lt;OperatorWallet&gt;</a>, paymasterService: <a href="../injectables/PaymasterService.html" target="_self">PaymasterService</a>, projectsService: <a href="../injectables/ProjectsService.html" target="_self">ProjectsService</a>, dataLayerClient: ClientProxy, notificationsClient: ClientProxy, analyticsService: <a href="../injectables/AnalyticsService.html" target="_self">AnalyticsService</a>, operatorRefreshTokenModel: Model<OperatorRefreshToken>, operatorInvoiceModel: <a href="../interfaces/OperatorInvoice.html" target="_self">Model&lt;OperatorInvoice&gt;</a>, operatorCheckoutModel: <a href="../interfaces/OperatorCheckout.html" target="_self">Model&lt;OperatorCheckout&gt;</a>, chargeBridgeModel: <a href="../interfaces/ChargeBridge.html" target="_self">Model&lt;ChargeBridge&gt;</a>, tradeService: <a href="../injectables/TradeService.html" target="_self">TradeService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:45</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>jwtService</td>
                                                  
                                                        <td>
                                                                    <code>JwtService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>usersService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/UsersService.html" target="_self" >UsersService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>configService</td>
                                                  
                                                        <td>
                                                                    <code>ConfigService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>operatorWalletModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/OperatorWallet.html" target="_self" >Model&lt;OperatorWallet&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>paymasterService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/PaymasterService.html" target="_self" >PaymasterService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>projectsService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/ProjectsService.html" target="_self" >ProjectsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>dataLayerClient</td>
                                                  
                                                        <td>
                                                                    <code>ClientProxy</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>notificationsClient</td>
                                                  
                                                        <td>
                                                                    <code>ClientProxy</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>analyticsService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AnalyticsService.html" target="_self" >AnalyticsService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>operatorRefreshTokenModel</td>
                                                  
                                                        <td>
                                                                    <code>Model&lt;OperatorRefreshToken&gt;</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>operatorInvoiceModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/OperatorInvoice.html" target="_self" >Model&lt;OperatorInvoice&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>operatorCheckoutModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/OperatorCheckout.html" target="_self" >Model&lt;OperatorCheckout&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>chargeBridgeModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../interfaces/ChargeBridge.html" target="_self" >Model&lt;ChargeBridge&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>tradeService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/TradeService.html" target="_self" >TradeService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addAddressToOperatorsWebhook"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>addAddressToOperatorsWebhook</b></span>
                        <a href="#addAddressToOperatorsWebhook"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addAddressToOperatorsWebhook(walletAddress: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="476"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:476</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>walletAddress</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addAddressToTokenReceiveWebhook"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>addAddressToTokenReceiveWebhook</b></span>
                        <a href="#addAddressToTokenReceiveWebhook"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addAddressToTokenReceiveWebhook(walletAddress: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="485"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:485</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>walletAddress</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkOperatorExistenceByEoaAddress"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>checkOperatorExistenceByEoaAddress</b></span>
                        <a href="#checkOperatorExistenceByEoaAddress"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkOperatorExistenceByEoaAddress(eoaAddress: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="70"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:70</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>eoaAddress</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkout"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>checkout</b></span>
                        <a href="#checkout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkout(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, createOperatorCheckoutDto: <a href="../interfaces/OperatorCheckout.html" target="_self">CreateOperatorCheckoutDto</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="903"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:903</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>createOperatorCheckoutDto</td>
                                    <td>
                                                <code><a href="../interfaces/OperatorCheckout.html" target="_self" >CreateOperatorCheckoutDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="checkWalletActivationStatus"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>checkWalletActivationStatus</b></span>
                        <a href="#checkWalletActivationStatus"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>checkWalletActivationStatus(auth0Id)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="470"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:470</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="compareRefreshToken"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>compareRefreshToken</b></span>
                        <a href="#compareRefreshToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>compareRefreshToken(plainToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, hashedToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="571"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:571</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>plainToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>hashedToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="constructUserProjectResponse"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>constructUserProjectResponse</b></span>
                        <a href="#constructUserProjectResponse"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>constructUserProjectResponse(user: <a href="../interfaces/User.html" target="_self">User</a>, project: <a href="../interfaces/OperatorProject.html" target="_self">OperatorProject</a>, wallet?: <a href="../interfaces/OperatorWallet.html" target="_self">OperatorWallet</a>, secretKey?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="248"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:248</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>user</td>
                                    <td>
                                                <code><a href="../interfaces/User.html" target="_self" >User</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>project</td>
                                    <td>
                                                <code><a href="../interfaces/OperatorProject.html" target="_self" >OperatorProject</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>wallet</td>
                                    <td>
                                                <code><a href="../interfaces/OperatorWallet.html" target="_self" >OperatorWallet</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                                <tr>
                                    <td>secretKey</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorUserProjectResponse.html" target="_self" >OperatorUserProjectResponse</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createChargeBridge"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createChargeBridge</b></span>
                        <a href="#createChargeBridge"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createChargeBridge(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, createChargeBridgeDto: <a href="../interfaces/ChargeBridge.html" target="_self">CreateChargeBridgeDto</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1050"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:1050</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>createChargeBridgeDto</td>
                                    <td>
                                                <code><a href="../interfaces/ChargeBridge.html" target="_self" >CreateChargeBridgeDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createInvoice"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createInvoice</b></span>
                        <a href="#createInvoice"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createInvoice(ownerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, currency: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, txHash: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, amountUsd?: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="666"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:666</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ownerId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>currency</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>txHash</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amountUsd</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        Yes
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorInvoice.html" target="_self" >Promise&lt;OperatorInvoice&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createOperatorJwtTokens"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createOperatorJwtTokens</b></span>
                        <a href="#createOperatorJwtTokens"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createOperatorJwtTokens(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, response: Response)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="625"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:625</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>response</td>
                                    <td>
                                            <code>Response</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createOperatorUserAndProjectAndWallet"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createOperatorUserAndProjectAndWallet</b></span>
                        <a href="#createOperatorUserAndProjectAndWallet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createOperatorUserAndProjectAndWallet(createOperatorUserDto: <a href="../classes/CreateOperatorUserDto.html" target="_self">CreateOperatorUserDto</a>, auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="134"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:134</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>createOperatorUserDto</td>
                                    <td>
                                                <code><a href="../classes/CreateOperatorUserDto.html" target="_self" >CreateOperatorUserDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createOperatorWallet"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createOperatorWallet</b></span>
                        <a href="#createOperatorWallet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createOperatorWallet(createOperatorWalletDto: <a href="../interfaces/OperatorWallet.html" target="_self">CreateOperatorWalletDto</a>, auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="198"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:198</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>createOperatorWalletDto</td>
                                    <td>
                                                <code><a href="../interfaces/OperatorWallet.html" target="_self" >CreateOperatorWalletDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createPaymasters"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span class="modifier">Async</span>
                        <span ><b>createPaymasters</b></span>
                        <a href="#createPaymasters"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createPaymasters(projectObject: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="190"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:190</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>projectObject</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createProject"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span class="modifier">Async</span>
                        <span ><b>createProject</b></span>
                        <a href="#createProject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createProject(user: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>, createOperatorUserDto: <a href="../classes/CreateOperatorUserDto.html" target="_self">CreateOperatorUserDto</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="174"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:174</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>user</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>createOperatorUserDto</td>
                                    <td>
                                                <code><a href="../classes/CreateOperatorUserDto.html" target="_self" >CreateOperatorUserDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createProjectSecret"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span class="modifier">Async</span>
                        <span ><b>createProjectSecret</b></span>
                        <a href="#createProjectSecret"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createProjectSecret(projectObject: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="182"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:182</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>projectObject</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createRefreshToken"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createRefreshToken</b></span>
                        <a href="#createRefreshToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createRefreshToken(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, refreshToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="548"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:548</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>refreshToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;OperatorRefreshToken&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createSubscription"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>createSubscription</b></span>
                        <a href="#createSubscription"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createSubscription(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="770"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:770</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorInvoice.html" target="_self" >Promise&lt;OperatorInvoice&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createUser"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span class="modifier">Async</span>
                        <span ><b>createUser</b></span>
                        <a href="#createUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createUser(createOperatorUserDto: <a href="../classes/CreateOperatorUserDto.html" target="_self">CreateOperatorUserDto</a>, auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="166"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:166</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>createOperatorUserDto</td>
                                    <td>
                                                <code><a href="../classes/CreateOperatorUserDto.html" target="_self" >CreateOperatorUserDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="deleteAddressFromOperatorsWebhook"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>deleteAddressFromOperatorsWebhook</b></span>
                        <a href="#deleteAddressFromOperatorsWebhook"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>deleteAddressFromOperatorsWebhook(walletAddress: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="494"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:494</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>walletAddress</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="errorHandler"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>errorHandler</b></span>
                        <a href="#errorHandler"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>errorHandler(error: <a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank">any</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="276"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:276</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>error</td>
                                    <td>
                                                <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findAllOperatorWallets"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>findAllOperatorWallets</b></span>
                        <a href="#findAllOperatorWallets"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findAllOperatorWallets()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="447"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:447</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorWallet.html" target="_self" >Promise&lt;OperatorWallet[]&gt;</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findCheckout"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>findCheckout</b></span>
                        <a href="#findCheckout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findCheckout(sessionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="891"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:891</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sessionId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findFirstDayOfMonthInvoice"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>findFirstDayOfMonthInvoice</b></span>
                        <a href="#findFirstDayOfMonthInvoice"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findFirstDayOfMonthInvoice(ownerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="674"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:674</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ownerId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorInvoice.html" target="_self" >Promise&lt;OperatorInvoice&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findInvoices"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>findInvoices</b></span>
                        <a href="#findInvoices"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findInvoices(ownerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="670"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:670</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ownerId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorInvoice.html" target="_self" >Promise&lt;OperatorInvoice[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findLastPaidCheckout"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>findLastPaidCheckout</b></span>
                        <a href="#findLastPaidCheckout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findLastPaidCheckout(ownerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="895"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:895</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ownerId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findOperatorBySmartWallet"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>findOperatorBySmartWallet</b></span>
                        <a href="#findOperatorBySmartWallet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findOperatorBySmartWallet(value: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="443"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:443</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorWallet.html" target="_self" >Promise&lt;OperatorWallet&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findRefreshToken"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>findRefreshToken</b></span>
                        <a href="#findRefreshToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findRefreshToken(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="544"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:544</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;OperatorRefreshToken&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="findWalletOwner"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>findWalletOwner</b></span>
                        <a href="#findWalletOwner"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>findWalletOwner(value: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="439"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:439</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>value</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorWallet.html" target="_self" >Promise&lt;OperatorWallet&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="fundPaymaster"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>fundPaymaster</b></span>
                        <a href="#fundPaymaster"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>fundPaymaster(sponsorId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, amount: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, ver: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, environment: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="371"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:371</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sponsorId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>amount</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ver</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>environment</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getBalance"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getBalance</b></span>
                        <a href="#getBalance"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getBalance(address: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, ver: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, environment: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="459"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:459</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>address</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ver</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>environment</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;string&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCheckoutSessions"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getCheckoutSessions</b></span>
                        <a href="#getCheckoutSessions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getCheckoutSessions(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="952"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:952</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getOperatorUserAndProject"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getOperatorUserAndProject</b></span>
                        <a href="#getOperatorUserAndProject"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getOperatorUserAndProject(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="89"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:89</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSponsoredTransactionsCount"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getSponsoredTransactionsCount</b></span>
                        <a href="#getSponsoredTransactionsCount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getSponsoredTransactionsCount(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="414"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:414</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getSubscriptions"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>getSubscriptions</b></span>
                        <a href="#getSubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getSubscriptions(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="814"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:814</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="../interfaces/OperatorInvoice.html" target="_self" >Promise&lt;OperatorInvoice[]&gt;</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="googleFormSubmit"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>googleFormSubmit</b></span>
                        <a href="#googleFormSubmit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>googleFormSubmit(createOperatorUserDto: <a href="../classes/CreateOperatorUserDto.html" target="_self">CreateOperatorUserDto</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="517"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:517</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>createOperatorUserDto</td>
                                    <td>
                                                <code><a href="../classes/CreateOperatorUserDto.html" target="_self" >CreateOperatorUserDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleCheckoutWebhook"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>handleCheckoutWebhook</b></span>
                        <a href="#handleCheckoutWebhook"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleCheckoutWebhook(webhookEvent: <a href="../interfaces/ChargeCheckoutWebhookEvent.html" target="_self">ChargeCheckoutWebhookEvent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="971"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:971</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>webhookEvent</td>
                                    <td>
                                                <code><a href="../interfaces/ChargeCheckoutWebhookEvent.html" target="_self" >ChargeCheckoutWebhookEvent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="handleWebhookReceiveAndFundPaymasterAndDeleteWalletAddressFromOperatorsWebhook"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>handleWebhookReceiveAndFundPaymasterAndDeleteWalletAddressFromOperatorsWebhook</b></span>
                        <a href="#handleWebhookReceiveAndFundPaymasterAndDeleteWalletAddressFromOperatorsWebhook"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>handleWebhookReceiveAndFundPaymasterAndDeleteWalletAddressFromOperatorsWebhook(webhookEvent: <a href="../interfaces/WebhookEvent.html" target="_self">WebhookEvent</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="301"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:301</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>webhookEvent</td>
                                    <td>
                                                <code><a href="../interfaces/WebhookEvent.html" target="_self" >WebhookEvent</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hashRefreshToken"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>hashRefreshToken</b></span>
                        <a href="#hashRefreshToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>hashRefreshToken(token: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="566"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:566</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>token</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="invalidateRefreshTokens"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>invalidateRefreshTokens</b></span>
                        <a href="#invalidateRefreshTokens"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>invalidateRefreshTokens(auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="559"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:559</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="isOperatorSponsoredQuotaExceeded"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>isOperatorSponsoredQuotaExceeded</b></span>
                        <a href="#isOperatorSponsoredQuotaExceeded"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>isOperatorSponsoredQuotaExceeded(context: ExecutionContext, requestConfig: AxiosRequestConfig)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="1010"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:1010</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>context</td>
                                    <td>
                                            <code>ExecutionContext</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>requestConfig</td>
                                    <td>
                                            <code>AxiosRequestConfig</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="markRefreshTokenAsUsed"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>markRefreshTokenAsUsed</b></span>
                        <a href="#markRefreshTokenAsUsed"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>markRefreshTokenAsUsed(refreshToken: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="552"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:552</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>refreshToken</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="migrateOperatorWallet"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>migrateOperatorWallet</b></span>
                        <a href="#migrateOperatorWallet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>migrateOperatorWallet(migrateOperatorWalletDto: <a href="../interfaces/OperatorWallet.html" target="_self">CreateOperatorWalletDto</a>, auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="218"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:218</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>migrateOperatorWalletDto</td>
                                    <td>
                                                <code><a href="../interfaces/OperatorWallet.html" target="_self" >CreateOperatorWalletDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="operatorAccountActivationEvent"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>operatorAccountActivationEvent</b></span>
                        <a href="#operatorAccountActivationEvent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>operatorAccountActivationEvent(undefined)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="503"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:503</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="operatorSubscriptionPaidEvent"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>operatorSubscriptionPaidEvent</b></span>
                        <a href="#operatorSubscriptionPaidEvent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>operatorSubscriptionPaidEvent(undefined)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="741"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:741</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="predictWallet"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>predictWallet</b></span>
                        <a href="#predictWallet"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>predictWallet(owner: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, index: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, ver: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, environment: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="287"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:287</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>owner</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>index</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>ver</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>environment</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;string&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processMonthlyBilling"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>processMonthlyBilling</b></span>
                        <a href="#processMonthlyBilling"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processMonthlyBilling()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="985"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:985</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="processMonthlySubscriptions"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>processMonthlySubscriptions</b></span>
                        <a href="#processMonthlySubscriptions"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>processMonthlySubscriptions()</code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <b>Decorators : </b>
                    <br />
                    <code>@Cron(CronExpression.EVERY_1ST_DAY_OF_MONTH_AT_MIDNIGHT)<br /></code>
                </td>
            </tr>

            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="839"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:839</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="retryGetTokenPrice"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span class="modifier">Async</span>
                        <span ><b>retryGetTokenPrice</b></span>
                        <a href="#retryGetTokenPrice"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>retryGetTokenPrice(tokenAddress: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, retries: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>, delayMinutes: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank">number</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="823"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:823</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                    <td>Default value</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>tokenAddress</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                    </td>

                                </tr>
                                <tr>
                                    <td>retries</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>3</code>
                                    </td>

                                </tr>
                                <tr>
                                    <td>delayMinutes</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>

                                    <td>
                                        <code>15</code>
                                    </td>

                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;number&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subscriptionInfo"></a>
                    <span class="name">
                        <span ><b>subscriptionInfo</b></span>
                        <a href="#subscriptionInfo"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>subscriptionInfo()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="699"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:699</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>    <code>{ payment: number; decimals: number; amount: any; calculateAmount: (billingCycle: any) &#x3D;&gt; number; calculateProrated: (billingCycle: any) &#x3D;&gt; any; }</code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="subscriptionWeb3"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>subscriptionWeb3</b></span>
                        <a href="#subscriptionWeb3"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>subscriptionWeb3(environment: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="680"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:680</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>environment</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateCheckout"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>updateCheckout</b></span>
                        <a href="#updateCheckout"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateCheckout(sessionId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, paymentStatus: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="899"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:899</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>sessionId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>paymentStatus</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>unknown</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateIsActivated"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>updateIsActivated</b></span>
                        <a href="#updateIsActivated"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateIsActivated(_id: ObjectId, isActivated: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="451"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:451</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>_id</td>
                                    <td>
                                            <code>ObjectId</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isActivated</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updateIsActivatedByOwnerId"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>updateIsActivatedByOwnerId</b></span>
                        <a href="#updateIsActivatedByOwnerId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updateIsActivatedByOwnerId(ownerId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, isActivated: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank">boolean</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="455"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:455</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>ownerId</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>isActivated</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validate"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>validate</b></span>
                        <a href="#validate"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validate(authOperatorDto: <a href="../classes/AuthOperatorDto.html" target="_self">AuthOperatorDto</a>, response: Response)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="75"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:75</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>authOperatorDto</td>
                                    <td>
                                                <code><a href="../classes/AuthOperatorDto.html" target="_self" >AuthOperatorDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>response</td>
                                    <td>
                                            <code>Response</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateInput"></a>
                    <span class="name">
                        <span class="modifier">Private</span>
                        <span ><b>validateInput</b></span>
                        <a href="#validateInput"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateInput(createOperatorUserDto: <a href="../classes/CreateOperatorUserDto.html" target="_self">CreateOperatorUserDto</a>, auth0Id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="430"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:430</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>createOperatorUserDto</td>
                                    <td>
                                                <code><a href="../classes/CreateOperatorUserDto.html" target="_self" >CreateOperatorUserDto</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>auth0Id</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="validateRefreshToken"></a>
                    <span class="name">
                        <span class="modifier">Async</span>
                        <span ><b>validateRefreshToken</b></span>
                        <a href="#validateRefreshToken"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                    <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>validateRefreshToken(token: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, response: Response)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="575"
                            class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:575</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>token</td>
                                    <td>
                                                <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                                <tr>
                                    <td>response</td>
                                    <td>
                                            <code>Response</code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
            <section>
    
    <h3 id="inputs">
        Properties
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="logger"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                            <span class="modifier">Readonly</span>
                        <span ><b>logger</b></span>
                        <a href="#logger"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>new Logger(OperatorsService.name)</code>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">apps/charge-accounts-service/src/operators/operators.service.ts:45</a></div>
                        </td>
                    </tr>


        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { BadRequestException, ExecutionContext, HttpException, HttpStatus, Inject, Injectable, InternalServerErrorException, Logger } from &#x27;@nestjs/common&#x27;
import { JwtService } from &#x27;@nestjs/jwt&#x27;
import { ethers } from &#x27;ethers&#x27;
import { notificationsService, smartWalletsService } from &#x27;@app/common/constants/microservices.constants&#x27;
import { PaymasterService } from &#x27;@app/accounts-service/paymaster/paymaster.service&#x27;
import { UsersService } from &#x27;@app/accounts-service/users/users.service&#x27;
import { AuthOperatorDto } from &#x27;@app/accounts-service/operators/dto/auth-operator.dto&#x27;
import paymasterAbi from &#x27;@app/api-service/paymaster-api/abi/FuseVerifyingPaymasterSingleton.abi.json&#x27;
import etherspotWalletFactoryAbi from &#x27;@app/accounts-service/operators/abi/EtherspotWalletFactory.abi.json&#x27;
import { ConfigService } from &#x27;@nestjs/config&#x27;
import { CreateOperatorUserDto } from &#x27;@app/accounts-service/operators/dto/create-operator-user.dto&#x27;
import { OperatorWallet } from &#x27;@app/accounts-service/operators/interfaces/operator-wallet.interface&#x27;
import { operatorWalletModelString, operatorRefreshTokenModelString, operatorInvoiceModelString, operatorCheckoutModelString, chargeBridgeModelString } from &#x27;@app/accounts-service/operators/operators.constants&#x27;
import { Model, ObjectId } from &#x27;mongoose&#x27;
import { WebhookEvent } from &#x27;@app/apps-service/payments/interfaces/webhook-event.interface&#x27;
import { ProjectsService } from &#x27;@app/accounts-service/projects/projects.service&#x27;
import { callMSFunction } from &#x27;@app/common/utils/client-proxy&#x27;
import { ClientProxy } from &#x27;@nestjs/microservices&#x27;
import { CreateWebhookAddressesDto } from &#x27;@app/notifications-service/webhooks/dto/create-webhook-addresses.dto&#x27;
import { AnalyticsService } from &#x27;@app/common/services/analytics.service&#x27;
import axios, { AxiosRequestConfig } from &#x27;axios&#x27;
import { User } from &#x27;@app/accounts-service/users/interfaces/user.interface&#x27;
import { OperatorProject } from &#x27;@app/accounts-service/operators/interfaces/operator-project.interface&#x27;
import { OperatorUserProjectResponse } from &#x27;@app/accounts-service/operators/interfaces/operator-user-project-response.interface&#x27;
import { OperatorRefreshToken } from &#x27;@app/accounts-service/operators/interfaces/operator-refresh-token.interface&#x27;
import { Response } from &#x27;express&#x27;
import * as bcrypt from &#x27;bcryptjs&#x27;
import { CreateOperatorWalletDto } from &#x27;@app/accounts-service/operators/dto/create-operator-wallet.dto&#x27;
import { OperatorInvoice } from &#x27;@app/accounts-service/operators/interfaces/operator-invoice.interface&#x27;
import { Cron, CronExpression } from &#x27;@nestjs/schedule&#x27;
import erc20Abi from &#x27;@app/network-service/common/constants/abi/Erc20.json&#x27;
import { CreateOperatorCheckoutDto } from &#x27;@app/accounts-service/operators/dto/create-operator-checkout.dto&#x27;
import { OperatorCheckout } from &#x27;@app/accounts-service/operators/interfaces/operator-checkout.interface&#x27;
import { ChargeCheckoutWebhookEvent } from &#x27;@app/accounts-service/operators/interfaces/charge-checkout-webhook-event.interface&#x27;
import { ChargeCheckoutBillingCycle, ChargeCheckoutPaymentStatus } from &#x27;@app/accounts-service/operators/interfaces/charge-checkout.interface&#x27;
import { differenceInMonths, getDate, getDaysInMonth, startOfMonth } from &#x27;date-fns&#x27;
import { monthsInYear } from &#x27;date-fns/constants&#x27;
import { BundlerProvider } from &#x27;@app/api-service/bundler-api/interfaces/bundler.interface&#x27;
import { CreateChargeBridgeDto } from &#x27;@app/accounts-service/operators/dto/create-charge-bridge.dto&#x27;
import { ChargeBridge } from &#x27;@app/accounts-service/operators/interfaces/charge-bridge.interface&#x27;
import TradeService from &#x27;@app/common/token/trade.service&#x27;

@Injectable()
export class OperatorsService {
  private readonly logger &#x3D; new Logger(OperatorsService.name)
  constructor (
    private readonly jwtService: JwtService,
    private readonly usersService: UsersService,
    private configService: ConfigService,
    @Inject(operatorWalletModelString)
    private operatorWalletModel: Model&lt;OperatorWallet&gt;,
    private readonly paymasterService: PaymasterService,
    private readonly projectsService: ProjectsService,
    @Inject(smartWalletsService)
    private readonly dataLayerClient: ClientProxy,
    @Inject(notificationsService)
    private readonly notificationsClient: ClientProxy,
    private readonly analyticsService: AnalyticsService,
    @Inject(operatorRefreshTokenModelString)
    private operatorRefreshTokenModel: Model&lt;OperatorRefreshToken&gt;,
    @Inject(operatorInvoiceModelString)
    private operatorInvoiceModel: Model&lt;OperatorInvoice&gt;,
    @Inject(operatorCheckoutModelString)
    private operatorCheckoutModel: Model&lt;OperatorCheckout&gt;,
    @Inject(chargeBridgeModelString)
    private chargeBridgeModel: Model&lt;ChargeBridge&gt;,
    private readonly tradeService: TradeService
  ) { }

  async checkOperatorExistenceByEoaAddress (eoaAddress: string): Promise&lt;number&gt; {
    const operator &#x3D; await this.usersService.findOneByAuth0Id(eoaAddress)
    return operator ? 200 : 404
  }

  async validate (authOperatorDto: AuthOperatorDto, response: Response) {
    try {
      const recoveredAddress &#x3D; ethers.utils.verifyMessage(authOperatorDto.message, authOperatorDto.signature)
      if (authOperatorDto.externallyOwnedAccountAddress !&#x3D;&#x3D; recoveredAddress) {
        throw new HttpException(&#x27;Wallet ownership verification failed&#x27;, HttpStatus.FORBIDDEN)
      }
      await this.createOperatorJwtTokens(recoveredAddress, response)
      response.status(200).send()
    } catch (error) {
      this.logger.error(&#x60;Failed to validate operator: ${error.message}&#x60;)
      throw error
    }
  }

  async getOperatorUserAndProject (auth0Id: string) {
    try {
      const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
      if (!user) {
        throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const wallet &#x3D; await this.findWalletOwner(user._id)
      if (!wallet) {
        throw new HttpException(&#x27;Wallet not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const projectObject &#x3D; await this.projectsService.findOneByOwnerId(user._id)
      if (!projectObject) {
        throw new HttpException(&#x27;Project not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const apiKeyInfo &#x3D; await this.projectsService.getApiKeysInfo(projectObject._id)
      if (!apiKeyInfo) {
        throw new HttpException(&#x27;API Key info not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const paymasters &#x3D; await this.paymasterService.findActivePaymasters(projectObject._id)
      if (!paymasters || paymasters.length &#x3D;&#x3D;&#x3D; 0) {
        throw new HttpException(&#x27;No active paymasters found&#x27;, HttpStatus.NOT_FOUND)
      }

      const project: OperatorProject &#x3D; {
        id: projectObject._id,
        ownerId: projectObject.ownerId,
        name: projectObject.name,
        description: projectObject.description,
        publicKey: apiKeyInfo.publicKey,
        sandboxKey: apiKeyInfo.sandboxKey,
        secretPrefix: apiKeyInfo.secretPrefix,
        secretLastFourChars: apiKeyInfo.secretLastFourChars,
        sponsorId: paymasters[0].sponsorId
      }

      return this.constructUserProjectResponse(user, project, wallet)
    } catch (error) {
      this.errorHandler(error)
    }
  }

  async createOperatorUserAndProjectAndWallet (createOperatorUserDto: CreateOperatorUserDto, auth0Id: string) {
    this.validateInput(createOperatorUserDto, auth0Id)

    try {
      const user &#x3D; await this.createUser(createOperatorUserDto, auth0Id)
      const projectObject &#x3D; await this.createProject(user, createOperatorUserDto)
      const secretKey &#x3D; await this.createProjectSecret(projectObject)
      const apiKeyInfo &#x3D; await this.projectsService.getApiKeysInfo(projectObject._id)
      const sponsorId &#x3D; await this.createPaymasters(projectObject)
      const eventData &#x3D; {
        email: user.email,
        apiKey: apiKeyInfo.publicKey
      }
      this.googleFormSubmit(createOperatorUserDto)
      this.analyticsService.trackEvent(&#x27;New Operator Created&#x27;, { ...eventData }, { user_id: user?.auth0Id })
      const project: OperatorProject &#x3D; {
        id: projectObject._id,
        ownerId: projectObject.ownerId,
        name: projectObject.name,
        description: projectObject.description,
        publicKey: apiKeyInfo.publicKey,
        sandboxKey: apiKeyInfo.sandboxKey,
        secretPrefix: apiKeyInfo.secretPrefix,
        secretLastFourChars: apiKeyInfo.secretLastFourChars,
        sponsorId
      }
      return this.constructUserProjectResponse(user, project, undefined, secretKey)
    } catch (error) {
      this.errorHandler(error)
    }
  }

  private async createUser (createOperatorUserDto: CreateOperatorUserDto, auth0Id: string) {
    return await this.usersService.create({
      name: &#x60;${createOperatorUserDto.firstName} ${createOperatorUserDto.lastName}&#x60;,
      email: createOperatorUserDto.email,
      auth0Id
    })
  }

  private async createProject (user: any, createOperatorUserDto: CreateOperatorUserDto) {
    return await this.projectsService.create({
      ownerId: user._id,
      name: createOperatorUserDto.name || user.name,
      description: createOperatorUserDto.description || &#x27;Empty description&#x27;
    })
  }

  private async createProjectSecret (projectObject: any) {
    const { secretKey } &#x3D; await this.projectsService.createSecret({ projectId: projectObject._id, createLegacyAccount: false })
    if (!secretKey) {
      throw new HttpException(&#x27;Failed to create secret&#x27;, HttpStatus.INTERNAL_SERVER_ERROR)
    }
    return secretKey
  }

  private async createPaymasters (projectObject: any) {
    const paymasters &#x3D; await this.paymasterService.create(projectObject._id, &#x27;0_1_0&#x27;)
    if (!paymasters) {
      throw new HttpException(&#x27;Failed to create paymasters&#x27;, HttpStatus.INTERNAL_SERVER_ERROR)
    }
    return paymasters[0].sponsorId
  }

  async createOperatorWallet (createOperatorWalletDto: CreateOperatorWalletDto, auth0Id: string) {
    const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
    if (!user) {
      throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
    }

    const operatorWalletCreationResult &#x3D; await this.operatorWalletModel.create({
      ownerId: user._id,
      smartWalletAddress: createOperatorWalletDto.smartWalletAddress.toLowerCase()
    })
    if (!operatorWalletCreationResult) {
      throw new HttpException(&#x27;Failed to create operator wallet&#x27;, HttpStatus.INTERNAL_SERVER_ERROR)
    }

    await this.addAddressToOperatorsWebhook(operatorWalletCreationResult.smartWalletAddress)
    await this.addAddressToTokenReceiveWebhook(operatorWalletCreationResult.smartWalletAddress)

    return operatorWalletCreationResult
  }

  async migrateOperatorWallet (migrateOperatorWalletDto: CreateOperatorWalletDto, auth0Id: string) {
    const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
    if (!user) {
      throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
    }

    const existingWallet &#x3D; await this.operatorWalletModel.findOne({ ownerId: user._id })
    if (existingWallet.etherspotSmartWalletAddress) {
      throw new HttpException(&#x27;Already migrated operator wallet&#x27;, HttpStatus.BAD_REQUEST)
    }

    await this.operatorWalletModel.findOneAndUpdate(
      { ownerId: user._id },
      { $rename: { smartWalletAddress: &#x27;etherspotSmartWalletAddress&#x27; } }
    )
    const operatorWalletResult &#x3D; await this.operatorWalletModel.findOneAndUpdate(
      { ownerId: user._id },
      { $set: { smartWalletAddress: migrateOperatorWalletDto.smartWalletAddress.toLowerCase() } },
      { new: true }
    )
    if (!operatorWalletResult) {
      throw new HttpException(&#x27;Failed to migrate operator wallet&#x27;, HttpStatus.INTERNAL_SERVER_ERROR)
    }

    await this.addAddressToOperatorsWebhook(operatorWalletResult.smartWalletAddress)
    await this.addAddressToTokenReceiveWebhook(operatorWalletResult.smartWalletAddress)

    return operatorWalletResult
  }

  private constructUserProjectResponse (user: User, project: OperatorProject, wallet?: OperatorWallet, secretKey?: string): OperatorUserProjectResponse {
    // Constructs the response object from the entities
    return {
      user: {
        id: user._id,
        name: user.name,
        email: user.email,
        auth0Id: user.auth0Id,
        smartWalletAddress: wallet?.smartWalletAddress ?? &#x27;0x&#x27;,
        isActivated: wallet?.isActivated ?? false,
        createdAt: user.createdAt,
        etherspotSmartWalletAddress: wallet?.etherspotSmartWalletAddress ?? null
      },
      project: {
        id: project.id,
        ownerId: project.ownerId,
        name: project.name,
        description: project.description,
        publicKey: project.publicKey,
        sandboxKey: project.sandboxKey,
        secretPrefix: project.secretPrefix,
        secretLastFourChars: project.secretLastFourChars,
        sponsorId: project.sponsorId,
        secretKey
      }
    }
  }

  private errorHandler (error: any) {
    // Improved error handling, distinguishing between different error types
    if (error instanceof HttpException) {
      this.logger.error(&#x60;Failed to create operator: ${error.getResponse()}&#x60;)
      throw new InternalServerErrorException(error.message)
    } else {
      this.logger.error(&#x60;Failed to create operator: ${error.message}&#x60;)
      throw new InternalServerErrorException(error.message)
    }
  }

  async predictWallet (owner: string, index: number, ver: string, environment: string): Promise&lt;string&gt; {
    const paymasterEnvs &#x3D; this.configService.getOrThrow(&#x60;paymaster.${ver}&#x60;)
    const contractAddress &#x3D; paymasterEnvs[environment].etherspotWalletFactoryContractAddress

    const provider &#x3D; new ethers.providers.JsonRpcProvider(paymasterEnvs[environment].url)
    const contract &#x3D; new ethers.Contract(contractAddress, etherspotWalletFactoryAbi, provider)

    try {
      return await contract.getAddress(owner, index)
    } catch (error) {
      throw new InternalServerErrorException(&#x60;Failed to predict wallet: ${error}&#x60;)
    }
  }

  async handleWebhookReceiveAndFundPaymasterAndDeleteWalletAddressFromOperatorsWebhook (webhookEvent: WebhookEvent): Promise&lt;void&gt; {
    this.logger.log(&#x60;handleWebhook: ${JSON.stringify(webhookEvent)}&#x60;)
    const DEPOSIT_REQUIRED &#x3D; 10 // Consider moving to a config or class constant
    const valueEthInWebhookEvent &#x3D; webhookEvent.valueEth
    const address &#x3D; webhookEvent.to.toLowerCase()

    try {
      if (webhookEvent.direction !&#x3D;&#x3D; &#x27;incoming&#x27;) {
        throw new HttpException(&#x27;Webhook event direction is not incoming.&#x27;, HttpStatus.BAD_REQUEST)
      }
      if (webhookEvent.tokenType !&#x3D;&#x3D; &#x27;FUSE&#x27;) {
        throw new HttpException(&#x27;Webhook event token type is not FUSE.&#x27;, HttpStatus.BAD_REQUEST)
      }
      if (!webhookEvent.to || webhookEvent.to.trim() &#x3D;&#x3D;&#x3D; &#x27;&#x27;) {
        throw new HttpException(&#x27;Webhook event &quot;to&quot; address is missing or empty.&#x27;, HttpStatus.BAD_REQUEST)
      }

      const balance &#x3D; await this.getBalance(address, &#x27;0_1_0&#x27;, &#x27;production&#x27;)
      if (!balance) {
        throw new HttpException(&#x27;Failed to retrieve balance.&#x27;, HttpStatus.INTERNAL_SERVER_ERROR)
      }
      const isBalanceSufficient &#x3D; parseFloat(balance) &gt;&#x3D; DEPOSIT_REQUIRED

      if (parseFloat(balance) &lt; parseFloat(valueEthInWebhookEvent)) {
        throw new HttpException(&#x27;Webhook event contains more FUSE than onChain balance&#x27;, HttpStatus.OK)
      }
      if (!isBalanceSufficient) {
        throw new HttpException(&#x27;Balance is not sufficient&#x27;, HttpStatus.OK)
      }

      const wallet &#x3D; await this.findOperatorBySmartWallet(address)
      if (!wallet) {
        throw new HttpException(&#x27;Wallet not found.&#x27;, HttpStatus.NOT_FOUND)
      }
      if (wallet.isActivated) {
        throw new HttpException(&#x27;Account already activated&#x27;, HttpStatus.OK)
      }

      const project &#x3D; await this.projectsService.findOneByOwnerId(wallet.ownerId)
      if (!project) {
        throw new HttpException(&#x27;Project not found.&#x27;, HttpStatus.NOT_FOUND)
      }

      const [paymaster] &#x3D; await this.paymasterService.findActivePaymasters(project._id)
      if (!paymaster?.sponsorId) {
        throw new HttpException(&#x60;Sponsor id for project id: ${project._id} is missing&#x60;, HttpStatus.INTERNAL_SERVER_ERROR)
      }

      await this.fundPaymaster(paymaster.sponsorId, &#x27;1&#x27;, &#x27;0_1_0&#x27;, &#x27;production&#x27;)
      // Note: If the &#x27;fundPaymaster&#x27; call fails, the operator&#x27;s account will not be activated,
      // and the webhook call will respond negatively. In such cases, a retry mechanism from the
      // notification service will be utilized.
      await this.updateIsActivated(wallet._id, true)
      try {
        this.operatorAccountActivationEvent({ id: wallet.ownerId, projectId: project._id })
      } catch (error) {
        this.logger.error(&#x60;Error on sending activation event to Amplitude: ${error}&#x60;)
      }
      await this.deleteAddressFromOperatorsWebhook(address)
    } catch (error) {
      if (error instanceof HttpException) {
        this.logger.error(&#x60;Error on operator funding: ${error.getResponse()}&#x60;)
        throw error // Rethrow the HttpException to be handled by NestJS&#x27;s global exception filter
      } else {
        this.logger.error(&#x60;Error on operator funding: ${error.message}&#x60;)
        throw new InternalServerErrorException(error.message)
      }
    }
  }

  async fundPaymaster (sponsorId: string, amount: string, ver: string, environment: string): Promise&lt;any&gt; {
    const paymasterEnvs &#x3D; this.configService.getOrThrow(&#x60;paymaster.${ver}&#x60;)
    const contractAddress &#x3D; paymasterEnvs[environment].paymasterContractAddress
    const privateKey &#x3D; this.configService.get(&#x27;PAYMASTER_FUNDER_PRIVATE_KEY&#x27;)
    const provider &#x3D; new ethers.providers.JsonRpcProvider(paymasterEnvs[environment].url)
    const wallet &#x3D; new ethers.Wallet(privateKey, provider)
    const contract &#x3D; new ethers.Contract(contractAddress, paymasterAbi, wallet)
    const ether &#x3D; ethers.utils.parseEther(amount)
    try {
      // Estimate gas
      const gasEstimate &#x3D; await contract.estimateGas.depositFor(sponsorId, { value: ether })

      // Get current fee data
      const feeData &#x3D; await provider.getFeeData()

      // Ensure minimum priority fee of 10 Gwei
      const minPriorityFee &#x3D; ethers.utils.parseUnits(&#x27;10&#x27;, &#x27;gwei&#x27;)
      const maxPriorityFeePerGas &#x3D; ethers.BigNumber.from(feeData.maxPriorityFeePerGas).gt(minPriorityFee)
        ? feeData.maxPriorityFeePerGas
        : minPriorityFee

      // Calculate max fee: max(2 * baseFee + maxPriorityFeePerGas, feeData.maxFeePerGas)
      const maxFeePerGas &#x3D; ethers.BigNumber.from(feeData.lastBaseFeePerGas).mul(2).add(maxPriorityFeePerGas)
      const finalMaxFeePerGas &#x3D; maxFeePerGas.gt(feeData.maxFeePerGas) ? maxFeePerGas : feeData.maxFeePerGas

      const txOptions &#x3D; {
        value: ether,
        maxPriorityFeePerGas,
        maxFeePerGas: finalMaxFeePerGas,
        gasLimit: gasEstimate.mul(12).div(10) // Add 20% buffer to estimated gas
      }

      this.logger.log(&#x60;Sending transaction with options: ${JSON.stringify(txOptions)}&#x60;)

      await contract.depositFor(sponsorId, txOptions)

      return HttpStatus.OK
    } catch (error) {
      this.logger.error(&#x60;depositFor fund paymaster failed: ${sponsorId} value: ${amount} etherAmount: ${ether} error: ${error}&#x60;)
      throw new InternalServerErrorException(&#x60;depositFor fund paymaster error: ${error}&#x60;)
    }
  }

  async getSponsoredTransactionsCount (auth0Id: string) {
    const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
    const project &#x3D; await this.projectsService.findOneByOwnerId(user._id)
    const apiKey &#x3D; await this.projectsService.getApiKeysInfo(project._id)
    const publicKey &#x3D; apiKey.publicKey
    let sponsoredTransactions &#x3D; 0
    if (publicKey) {
      const startDate &#x3D; startOfMonth(new Date()).toISOString()
      sponsoredTransactions &#x3D; await callMSFunction(this.dataLayerClient, &#x27;sponsored-transactions-count&#x27;, { apiKey: publicKey, startDate })
        .catch(e &#x3D;&gt; {
          this.logger.log(&#x60;sponsored-transactions-count failed: ${JSON.stringify(e)}&#x60;)
        })
    }
    return { sponsoredTransactions }
  }

  private validateInput (createOperatorUserDto: CreateOperatorUserDto, auth0Id: string) {
    if (!createOperatorUserDto.email || !createOperatorUserDto.firstName || !createOperatorUserDto.lastName) {
      throw new BadRequestException(&#x27;Missing required fields in createOperatorUserDto&#x27;)
    }
    if (!auth0Id) {
      throw new BadRequestException(&#x27;auth0Id is required&#x27;)
    }
  }

  async findWalletOwner (value: string): Promise&lt;OperatorWallet&gt; {
    return this.operatorWalletModel.findOne({ ownerId: value })
  }

  async findOperatorBySmartWallet (value: string): Promise&lt;OperatorWallet&gt; {
    return this.operatorWalletModel.findOne({ smartWalletAddress: value.toLowerCase() })
  }

  async findAllOperatorWallets (): Promise&lt;OperatorWallet[]&gt; {
    return this.operatorWalletModel.find()
  }

  async updateIsActivated (_id: ObjectId, isActivated: boolean): Promise&lt;any&gt; {
    return this.operatorWalletModel.updateOne({ _id }, { isActivated })
  }

  async updateIsActivatedByOwnerId (ownerId: string, isActivated: boolean): Promise&lt;any&gt; {
    return this.operatorWalletModel.updateOne({ ownerId }, { isActivated })
  }

  async getBalance (address: string, ver: string, environment: string): Promise&lt;string&gt; {
    const paymasterEnvs &#x3D; this.configService.getOrThrow(&#x60;paymaster.${ver}&#x60;)
    const provider &#x3D; new ethers.providers.JsonRpcProvider(paymasterEnvs[environment].url)
    try {
      const balance &#x3D; await provider.getBalance(address)
      return ethers.utils.formatEther(balance)
    } catch (error) {
      throw new InternalServerErrorException(&#x60;getBalance error: ${error}&#x60;)
    }
  }

  async checkWalletActivationStatus (auth0Id) {
    const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
    const wallet &#x3D; await this.findWalletOwner(user._id)
    return wallet?.isActivated || false
  }

  async addAddressToOperatorsWebhook (walletAddress: string) {
    const webhookId &#x3D; this.configService.get(&#x27;PAYMASTER_FUNDER_WEBHOOK_ID&#x27;)
    const requestBody: CreateWebhookAddressesDto &#x3D; {
      webhookId,
      addresses: [walletAddress]
    }
    return callMSFunction(this.notificationsClient, &#x27;create_addresses&#x27;, requestBody)
  }

  async addAddressToTokenReceiveWebhook (walletAddress: string) {
    const webhookId &#x3D; this.configService.get(&#x27;INCOMING_TOKEN_TRANSFERS_WEBHOOK_ID&#x27;)
    const requestBody: CreateWebhookAddressesDto &#x3D; {
      webhookId,
      addresses: [walletAddress]
    }
    return callMSFunction(this.notificationsClient, &#x27;create_addresses&#x27;, requestBody)
  }

  async deleteAddressFromOperatorsWebhook (walletAddress: string) {
    const webhookId &#x3D; this.configService.get(&#x27;PAYMASTER_FUNDER_WEBHOOK_ID&#x27;)
    const requestBody: CreateWebhookAddressesDto &#x3D; {
      webhookId,
      addresses: [walletAddress]
    }
    return callMSFunction(this.notificationsClient, &#x27;delete_addresses&#x27;, requestBody)
  }

  async operatorAccountActivationEvent ({ id, projectId }) {
    try {
      const user &#x3D; await this.usersService.findOne(id)
      const publicKey &#x3D; (await this.projectsService.getPublic(projectId)).publicKey
      const eventData &#x3D; {
        email: user.email,
        apiKey: publicKey
      }
      this.analyticsService.trackEvent(&#x27;Operator Account Activated&#x27;, { ...eventData }, { user_id: user?.auth0Id })
    } catch (error) {
      this.logger.error(&#x27;Error tracking event:&#x27;, error)
    }
  }

  async googleFormSubmit (createOperatorUserDto: CreateOperatorUserDto) {
    try {
      const formActionUrl &#x3D; this.configService.get(&#x27;googleOperatorFormUrl&#x27;)

      if (!formActionUrl) {
        this.logger.warn(&#x27;Google Form URL not configured, skipping form submission&#x27;)
        return
      }

      const formData &#x3D; new URLSearchParams()
      formData.append(&#x27;entry.1781500597&#x27;, createOperatorUserDto.email)
      formData.append(&#x27;entry.1823923312&#x27;, createOperatorUserDto.firstName)
      formData.append(&#x27;entry.995318623&#x27;, createOperatorUserDto.lastName)
      formData.append(&#x27;entry.1016494914&#x27;, createOperatorUserDto.name)

      await axios.post(formActionUrl, formData, {
        headers: {
          &#x27;Content-Type&#x27;: &#x27;application/x-www-form-urlencoded&#x27;
        }
      })

      this.logger.log(&#x27;Submission to Google Form successful&#x27;)
    } catch (error) {
      this.logger.error(&#x27;Google Form submission failed:&#x27;, error.message)
    }
  }

  async findRefreshToken (auth0Id: string): Promise&lt;OperatorRefreshToken&gt; {
    return this.operatorRefreshTokenModel.findOne({ auth0Id }).sort({ createdAt: -1 })
  }

  async createRefreshToken (auth0Id: string, refreshToken: string): Promise&lt;OperatorRefreshToken&gt; {
    return this.operatorRefreshTokenModel.create({ auth0Id, refreshToken })
  }

  async markRefreshTokenAsUsed (refreshToken: string) {
    return this.operatorRefreshTokenModel.updateOne(
      { refreshToken, usedAt: null },
      { usedAt: new Date() }
    )
  }

  async invalidateRefreshTokens (auth0Id: string) {
    return this.operatorRefreshTokenModel.updateMany(
      { auth0Id, invalidAt: null },
      { invalidAt: new Date() }
    )
  }

  async hashRefreshToken (token: string) {
    const salt &#x3D; await bcrypt.genSalt()
    return bcrypt.hash(token, salt)
  }

  async compareRefreshToken (plainToken: string, hashedToken: string) {
    return bcrypt.compare(plainToken, hashedToken)
  }

  async validateRefreshToken (token: string, response: Response) {
    try {
      const verifiedRefreshToken &#x3D; this.jwtService.verify(
        token,
        {
          secret: this.configService.get(&#x27;OPERATOR_REFRESH_JWT_SECRET&#x27;)
        }
      )
      if (!verifiedRefreshToken) {
        throw new HttpException(&#x27;Refresh token verification failed&#x27;, HttpStatus.UNAUTHORIZED)
      }

      const refreshToken &#x3D; await this.findRefreshToken(verifiedRefreshToken.sub)
      if (!refreshToken) {
        throw new HttpException(&#x27;Refresh token does not exist&#x27;, HttpStatus.NOT_FOUND)
      }

      if (verifiedRefreshToken.sub !&#x3D;&#x3D; refreshToken.auth0Id) {
        throw new HttpException(&#x27;Refresh token does not match&#x27;, HttpStatus.UNAUTHORIZED)
      }

      const currentTime &#x3D; Math.floor(Date.now() / 1000)
      if (currentTime &gt; verifiedRefreshToken.exp) {
        throw new HttpException(&#x27;Refresh token expired&#x27;, HttpStatus.UNAUTHORIZED)
      }

      const hashedRefreshToken &#x3D; refreshToken.refreshToken
      const comparedRefreshToken &#x3D; await this.compareRefreshToken(token, hashedRefreshToken)
      if (!comparedRefreshToken) {
        throw new HttpException(&#x27;Refresh token comparison failed&#x27;, HttpStatus.UNAUTHORIZED)
      }

      if (refreshToken.invalidAt) {
        throw new HttpException(&#x27;Refresh token invalidated&#x27;, HttpStatus.FORBIDDEN)
      }
      if (refreshToken.usedAt) {
        await this.invalidateRefreshTokens(refreshToken.auth0Id)
        throw new HttpException(&#x27;Refresh token used&#x27;, HttpStatus.FORBIDDEN)
      }

      await this.markRefreshTokenAsUsed(hashedRefreshToken)
      await this.createOperatorJwtTokens(refreshToken.auth0Id, response)

      response.status(200).send()
    } catch (error) {
      this.logger.error(&#x60;Failed to validate operator refresh token: ${error.message}&#x60;)
      throw error
    }
  }

  async createOperatorJwtTokens (auth0Id: string, response: Response) {
    const tenMinutesInSeconds &#x3D; 10 * 60
    const oneDayInSeconds &#x3D; 24 * 60 * 60
    const milliseconds &#x3D; 1000

    const accessToken &#x3D; this.jwtService.sign(
      {
        sub: auth0Id
      },
      {
        secret: this.configService.get(&#x27;SMART_WALLETS_JWT_SECRET&#x27;),
        expiresIn: tenMinutesInSeconds
      }
    )
    const refreshToken &#x3D; this.jwtService.sign(
      {
        sub: auth0Id
      },
      {
        secret: this.configService.get(&#x27;OPERATOR_REFRESH_JWT_SECRET&#x27;),
        expiresIn: oneDayInSeconds
      }
    )

    response.cookie(&#x27;operator_access_token&#x27;, accessToken, {
      httpOnly: true,
      secure: true,
      maxAge: tenMinutesInSeconds * milliseconds,
      sameSite: this.configService.get(&#x27;CONSOLE_DAPP_URL&#x27;) ? &#x27;lax&#x27; : &#x27;none&#x27;
    })
    response.cookie(&#x27;operator_refresh_token&#x27;, refreshToken, {
      httpOnly: true,
      secure: true,
      maxAge: oneDayInSeconds * milliseconds,
      sameSite: this.configService.get(&#x27;CONSOLE_DAPP_URL&#x27;) ? &#x27;lax&#x27; : &#x27;none&#x27;
    })

    const hashedRefreshToken &#x3D; await this.hashRefreshToken(refreshToken)
    return this.createRefreshToken(auth0Id, hashedRefreshToken)
  }

  async createInvoice (ownerId: string, amount: number, currency: string, txHash: string, amountUsd?: number): Promise&lt;OperatorInvoice&gt; {
    return this.operatorInvoiceModel.create({ ownerId, amount, currency, txHash, amountUsd })
  }

  async findInvoices (ownerId: string): Promise&lt;OperatorInvoice[]&gt; {
    return this.operatorInvoiceModel.find({ ownerId })
  }

  async findFirstDayOfMonthInvoice (ownerId: string): Promise&lt;OperatorInvoice&gt; {
    const currentDate &#x3D; new Date()
    const firstDayOfMonth &#x3D; new Date(currentDate.getFullYear(), currentDate.getMonth(), 1)
    return this.operatorInvoiceModel.findOne({ ownerId, createdAt: { $gte: firstDayOfMonth } })
  }

  async subscriptionWeb3 (environment: string) {
    const version &#x3D; &#x27;0_1_0&#x27;
    const paymasterEnvs &#x3D; this.configService.getOrThrow(&#x60;paymaster.${version}.${environment}&#x60;)
    const tokenEnvs &#x3D; this.configService.getOrThrow(&#x60;token.${environment}&#x60;)
    const contractAddress &#x3D; tokenEnvs.wfuseContractAddress
    const privateKey &#x3D; this.configService.get(&#x27;PAYMASTER_FUNDER_PRIVATE_KEY&#x27;)
    const provider &#x3D; new ethers.providers.JsonRpcProvider(paymasterEnvs.url)
    const wallet &#x3D; new ethers.Wallet(privateKey, provider)
    const contract &#x3D; new ethers.Contract(contractAddress, erc20Abi, wallet)
    const symbol &#x3D; await contract.symbol()
    return {
      contractAddress,
      provider,
      wallet,
      contract,
      symbol
    }
  }

  subscriptionInfo () {
    const payment &#x3D; 50
    const decimals &#x3D; 18
    const amount &#x3D; ethers.utils.parseUnits(payment.toString(), decimals)

    const today &#x3D; new Date()
    const daysInMonth &#x3D; getDaysInMonth(today)
    const dayOfMonth &#x3D; getDate(today)
    const remainingDays &#x3D; daysInMonth - dayOfMonth + 1
    const proratedFactor &#x3D; remainingDays / daysInMonth

    const tiers &#x3D; {
      [ChargeCheckoutBillingCycle.YEARLY]: {
        percentageOff: 30,
        multiplier: monthsInYear
      },
      [ChargeCheckoutBillingCycle.MONTHLY]: {
        percentageOff: 0,
        multiplier: 1
      }
    }

    function calculateAmount (billingCycle) {
      const { percentageOff, multiplier } &#x3D; tiers[billingCycle]
      const discount &#x3D; payment * (percentageOff / 100)
      return (payment - discount) * multiplier
    }

    function calculateProrated (billingCycle) {
      const calculatedAmount &#x3D; calculateAmount(billingCycle)
      return Math.round(payment * proratedFactor + calculatedAmount - payment)
    }

    return {
      payment,
      decimals,
      amount,
      calculateAmount,
      calculateProrated
    }
  }

  async operatorSubscriptionPaidEvent ({ id, token, amount }) {
    try {
      const user &#x3D; await this.usersService.findOne(id)
      if (!user) {
        throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const project &#x3D; await this.projectsService.findOneByOwnerId(user._id)
      if (!project) {
        throw new HttpException(&#x27;Project not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const apiKey &#x3D; await this.projectsService.getApiKeysInfo(project._id)
      if (!apiKey) {
        throw new HttpException(&#x27;API Key info not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const eventData &#x3D; {
        email: user.email,
        apiKey: apiKey.publicKey,
        token,
        amount
      }
      this.analyticsService.trackEvent(&#x27;Operator Subscription Paid&#x27;, { ...eventData }, { user_id: user?.auth0Id })
    } catch (error) {
      this.logger.error(&#x27;Error tracking Operator Subscription Paid event:&#x27;, error)
    }
  }

  async createSubscription (auth0Id: string): Promise&lt;OperatorInvoice&gt; {
    const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
    if (!user) {
      throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
    }

    const operatorWallet &#x3D; await this.findWalletOwner(user._id)
    if (!operatorWallet) {
      throw new HttpException(&#x27;Operator wallet not found.&#x27;, HttpStatus.NOT_FOUND)
    }

    const { contractAddress, wallet, contract, symbol } &#x3D; await this.subscriptionWeb3(&#x27;production&#x27;)
    const { decimals, calculateProrated } &#x3D; this.subscriptionInfo()
    const proratedAmount &#x3D; calculateProrated(ChargeCheckoutBillingCycle.MONTHLY)

    const tokenPrice &#x3D; await this.tradeService.getTokenPriceByAddress(contractAddress)
    if (!tokenPrice || tokenPrice &lt;&#x3D; 0) {
      throw new HttpException(&#x27;Token price is not available&#x27;, HttpStatus.INTERNAL_SERVER_ERROR)
    }

    const proratedTokenAmount &#x3D; proratedAmount / tokenPrice
    const amount &#x3D; ethers.utils.parseUnits(proratedTokenAmount.toString(), decimals)

    const allowance &#x3D; await contract.allowance(operatorWallet.smartWalletAddress, wallet.address)
    this.logger.log(&#x27;subscriptionAllowance&#x27;, JSON.stringify({ allowance: allowance.toString(), amount: amount.toString(), proratedTokenAmount, proratedAmount, tokenPrice, smartWalletAddress: operatorWallet.smartWalletAddress, walletAddress: wallet.address, contractAddress }, null, 2))
    if (allowance.lt(amount)) {
      throw new HttpException(&#x27;Insufficient allowance&#x27;, HttpStatus.BAD_REQUEST)
    }

    const transfer &#x3D; await contract.transferFrom(operatorWallet.smartWalletAddress, wallet.address, amount)
    const tx &#x3D; await transfer.wait()
    const txHash &#x3D; tx?.transactionHash
    if (!txHash) {
      throw new HttpException(&#x27;Transaction failed&#x27;, HttpStatus.BAD_REQUEST)
    }

    const invoice &#x3D; await this.createInvoice(user._id, proratedTokenAmount, symbol, txHash, proratedAmount)
    await this.updateIsActivated(operatorWallet._id, true)

    this.operatorSubscriptionPaidEvent({ id: user._id, token: symbol, amount: proratedTokenAmount })

    return invoice
  }

  async getSubscriptions (auth0Id: string): Promise&lt;OperatorInvoice[]&gt; {
    const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
    if (!user) {
      throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
    }

    return this.findInvoices(user._id)
  }

  private async retryGetTokenPrice (tokenAddress: string, retries &#x3D; 3, delayMinutes &#x3D; 15): Promise&lt;number&gt; {
    for (let attempt &#x3D; 1; attempt &lt;&#x3D; retries; attempt++) {
      const tokenPrice &#x3D; await this.tradeService.getTokenPriceByAddress(tokenAddress)
      if (tokenPrice &amp;&amp; tokenPrice &gt; 0) {
        return tokenPrice
      }

      this.logger.warn(&#x60;Token price fetch attempt ${attempt}/${retries} failed. Retrying in ${delayMinutes} minutes...&#x60;)
      if (attempt &lt; retries) {
        await new Promise(resolve &#x3D;&gt; setTimeout(resolve, delayMinutes * 60 * 1000))
      }
    }
    throw new Error(&#x27;Failed to get token price after multiple attempts&#x27;)
  }

  @Cron(CronExpression.EVERY_1ST_DAY_OF_MONTH_AT_MIDNIGHT)
  async processMonthlySubscriptions () {
    try {
      const operatorWallets &#x3D; await this.findAllOperatorWallets()
      const { contractAddress, wallet, contract, symbol } &#x3D; await this.subscriptionWeb3(&#x27;production&#x27;)
      const { payment, decimals } &#x3D; this.subscriptionInfo()

      const tokenPrice &#x3D; await this.retryGetTokenPrice(contractAddress)

      const tokenAmount &#x3D; payment / tokenPrice
      const amount &#x3D; ethers.utils.parseUnits(tokenAmount.toString(), decimals)

      for (const operatorWallet of operatorWallets) {
        const invoice &#x3D; await this.findFirstDayOfMonthInvoice(operatorWallet.ownerId)
        if (invoice) {
          this.logger.log(&#x60;Invoice already exists for ${operatorWallet.ownerId}&#x60;)
          continue
        }

        const allowance &#x3D; await contract.allowance(operatorWallet.smartWalletAddress, wallet.address)
        if (allowance.lt(amount)) {
          this.logger.log(&#x60;Insufficient allowance for ${operatorWallet.ownerId}&#x60;)
          await this.updateIsActivated(operatorWallet._id, false)
          continue
        }

        const balance &#x3D; await contract.balanceOf(operatorWallet.smartWalletAddress)
        if (balance.lt(amount)) {
          this.logger.log(&#x60;Insufficient balance for ${operatorWallet.ownerId}&#x60;)
          await this.updateIsActivated(operatorWallet._id, false)
          continue
        }

        const transfer &#x3D; await contract.transferFrom(operatorWallet.smartWalletAddress, wallet.address, amount)
        const tx &#x3D; await transfer.wait()
        const txHash &#x3D; tx?.transactionHash
        if (!txHash) {
          this.logger.log(&#x60;Transaction failed for ${operatorWallet.ownerId}&#x60;)
          await this.updateIsActivated(operatorWallet._id, false)
          continue
        }

        await this.createInvoice(operatorWallet.ownerId, tokenAmount, symbol, txHash, payment)
        await this.updateIsActivated(operatorWallet._id, true)

        this.operatorSubscriptionPaidEvent({ id: operatorWallet.ownerId, token: symbol, amount: tokenAmount })
      }
    } catch (error) {
      this.logger.error(&#x27;Failed to process monthly subscriptions&#x27;, error)
      throw error
    }
  }

  async findCheckout (sessionId: string) {
    return this.operatorCheckoutModel.findOne({ sessionId })
  }

  async findLastPaidCheckout (ownerId: string) {
    return this.operatorCheckoutModel.findOne({ ownerId, paymentStatus: ChargeCheckoutPaymentStatus.PAID }).sort({ createdAt: -1 })
  }

  async updateCheckout (sessionId: string, paymentStatus: string) {
    return this.operatorCheckoutModel.updateOne({ sessionId }, { paymentStatus })
  }

  async checkout (auth0Id: string, createOperatorCheckoutDto: CreateOperatorCheckoutDto) {
    try {
      const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
      if (!user) {
        throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const chargePaymentsApiUrl &#x3D; this.configService.get(&#x27;CHARGE_PAYMENTS_API_URL&#x27;)
      const chargePaymentsApiKey &#x3D; this.configService.get(&#x27;CHARGE_PAYMENTS_API_KEY&#x27;)
      const accountsUrl &#x3D; this.configService.get(&#x27;AUTH0_AUDIENCE&#x27;)
      const expiresIn &#x3D; 12000

      const { calculateProrated } &#x3D; this.subscriptionInfo()
      const proratedAmount &#x3D; calculateProrated(createOperatorCheckoutDto.billingCycle)

      const chargeResponse &#x3D; await axios.post(
        &#x60;${chargePaymentsApiUrl}/payments/checkout/sessions?apiKey&#x3D;${chargePaymentsApiKey}&#x60;,
        {
          successUrl: createOperatorCheckoutDto.successUrl,
          cancelUrl: createOperatorCheckoutDto.cancelUrl,
          webhookUrl: &#x60;${accountsUrl}/accounts/v1/operators/checkout/webhook&#x60;,
          expiresIn,
          lineItems: [
            {
              currency: &#x27;usd&#x27;,
              unitAmount: proratedAmount.toString(),
              quantity: &#x27;1&#x27;,
              productData: {
                name: &#x27;Console Operator&#x27;
              }
            }
          ]
        }
      )

      const checkout &#x3D; await this.operatorCheckoutModel.create({
        ownerId: user._id,
        sessionId: chargeResponse.data.id,
        billingCycle: createOperatorCheckoutDto.billingCycle,
        amount: proratedAmount,
        ...chargeResponse.data
      })
      return checkout.url
    } catch (error) {
      this.logger.error(&#x60;Failed to checkout: ${error.message}&#x60;)
      throw error
    }
  }

  async getCheckoutSessions (auth0Id: string) {
    const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
    if (!user) {
      throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
    }

    return this.operatorCheckoutModel.find(
      { ownerId: user._id },
      {
        billingCycle: 1,
        status: 1,
        paymentStatus: 1,
        createdAt: 1,
        updatedAt: 1,
        amount: 1
      }
    )
  }

  async handleCheckoutWebhook (webhookEvent: ChargeCheckoutWebhookEvent) {
    const checkout &#x3D; await this.findCheckout(webhookEvent.sessionId)
    if (!checkout) {
      throw new HttpException(&#x27;Checkout not found&#x27;, HttpStatus.NOT_FOUND)
    }

    const isPaid &#x3D; webhookEvent.paymentStatus &#x3D;&#x3D;&#x3D; ChargeCheckoutPaymentStatus.PAID
    if (isPaid) {
      await this.updateIsActivatedByOwnerId(checkout.ownerId, true)
    }

    await this.updateCheckout(webhookEvent.sessionId, webhookEvent.paymentStatus)
  }

  async processMonthlyBilling () {
    const operatorWallets &#x3D; await this.findAllOperatorWallets()
    for (const operatorWallet of operatorWallets) {
      const checkout &#x3D; await this.findLastPaidCheckout(operatorWallet.ownerId)
      if (!checkout) {
        continue
      }

      const monthsSinceCreation &#x3D; differenceInMonths(new Date(), checkout.createdAt)
      if (
        checkout.billingCycle &#x3D;&#x3D;&#x3D; ChargeCheckoutBillingCycle.YEARLY &amp;&amp;
        monthsSinceCreation &lt; monthsInYear
      ) {
        continue
      }

      const gracePeriod &#x3D; 1
      if (monthsSinceCreation &lt;&#x3D; gracePeriod) {
        continue
      }

      await this.updateIsActivatedByOwnerId(checkout.ownerId, false)
    }
  }

  async isOperatorSponsoredQuotaExceeded (context: ExecutionContext, requestConfig: AxiosRequestConfig) {
    const request &#x3D; context.switchToHttp().getRequest()
    const bundlerProvider &#x3D; request.query?.provider ?? BundlerProvider.ETHERSPOT
    if (bundlerProvider !&#x3D;&#x3D; BundlerProvider.PIMLICO) {
      return false
    }

    const paymaster &#x3D; requestConfig.data?.params?.[0]?.paymaster
    if (!paymaster) {
      return false
    }

    const operatorUser &#x3D; await callMSFunction(this.dataLayerClient, &#x27;get-operator-by-api-key&#x27;, request.query.apiKey)
      .catch(e &#x3D;&gt; {
        this.logger.log(&#x60;get-operator-by-api-key failed: ${JSON.stringify(e)}&#x60;)
      })
    if (!operatorUser) {
      return true
    }
    const { operator } &#x3D; operatorUser
    if (!operator) {
      return true
    }
    if (operator.isActivated) {
      return false
    }

    const freePlanLimit &#x3D; 1000
    const startDate &#x3D; startOfMonth(new Date()).toISOString()
    const sponsoredTransactions &#x3D; await callMSFunction(this.dataLayerClient, &#x27;sponsored-transactions-count&#x27;, { apiKey: request.query.apiKey, startDate })
      .catch(e &#x3D;&gt; {
        this.logger.log(&#x60;sponsored-transactions-count failed: ${JSON.stringify(e)}&#x60;)
      })
    if (sponsoredTransactions &gt; freePlanLimit) {
      return true
    }

    return false
  }

  async createChargeBridge (auth0Id: string, createChargeBridgeDto: CreateChargeBridgeDto) {
    try {
      const user &#x3D; await this.usersService.findOneByAuth0Id(auth0Id)
      if (!user) {
        throw new HttpException(&#x27;User not found&#x27;, HttpStatus.NOT_FOUND)
      }

      const operatorWallet &#x3D; await this.findWalletOwner(user._id)
      if (!operatorWallet) {
        throw new HttpException(&#x27;Operator wallet not found.&#x27;, HttpStatus.NOT_FOUND)
      }

      const chargePaymentsApiUrl &#x3D; this.configService.get(&#x27;CHARGE_PAYMENTS_API_URL&#x27;)
      const chargePaymentsApiKey &#x3D; this.configService.get(&#x27;CHARGE_PAYMENTS_API_KEY&#x27;)
      const chargeBridgeResponse &#x3D; await axios.post(
        &#x60;${chargePaymentsApiUrl}/payments/bridge/create-new?apiKey&#x3D;${chargePaymentsApiKey}&#x60;,
        {
          chainId: createChargeBridgeDto.chainId,
          token: &#x27;FUSE&#x27;,
          amount: createChargeBridgeDto.amount,
          destinationWallet: operatorWallet.smartWalletAddress,
          receiveToken: &#x27;WFUSE&#x27;
        }
      )

      const chargeBridge &#x3D; await this.chargeBridgeModel.create({
        ...chargeBridgeResponse.data,
        ownerId: user._id
      })
      return {
        walletAddress: chargeBridge.walletAddress,
        startTime: chargeBridge.startTime,
        endTime: chargeBridge.endTime
      }
    } catch (error) {
      this.logger.error(&#x60;Failed to create charge bridge: ${error.message}&#x60;)
      throw error
    }
  }
}
</code></pre>
    </div>

</div>












                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'OperatorsService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
